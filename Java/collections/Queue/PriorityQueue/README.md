#PriorityQueue
![img.png](../../img.png)

Класс PriorityQueue реализует интерфейс Queue. Он служит для создания очереди по приоритетам на основании компаратора очереди.

Рассмотрим первоначально методы унаследованные от интерфейса _Collection_:

| Метод                                                 | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|:------------------------------------------------------|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| boolean add(E e)                                      | Используется для вставки элемента в коллекцию                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| boolean addAll(Collection<? extends E> c)             | Используется для вставки переданной коллекции в исходную коллекцию                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| boolean remove(Object element)                        | Используется для удаления элемента из коллекции                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| boolean removeAll(Collection<?> c)                    | Используется для удаления всех элементов входящих в переданную коллекцию из исходной коллекции                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| default boolean removeIf(Predicate<? super E> filter) | Удаляет из коллекции элементы, удовлетворяющие условию, которое задает предикат                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| boolean retainAll(Collection<?> c)                    | Удаляет из вызывающей коллекции все элементы кроме элементов переданной коллекции                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| int size()                                            | Возвращает количество элементов в коллекции                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| void clear()                                          | Удаляет все элементы                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| boolean contains(Object element)                      | Если передаваемый элемент есть в коллекции - true, иначе - false                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| boolean containsAll(Collection<?> c)                  | Если все элементы из передаваемой коллекции есть в исходной коллекции - true, иначе false                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| boolean isEmpty()                                     | Если вызывающая коллекция пуста - true, иначе - false                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| int hashCode()                                        | Возвращает хэш-код коллекции                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| boolean equals(Object o)                              | Проверяет равнозначны ли коллекция и переданный объект                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| Iterator<E> iterator()                                | Возвращает итератор для исходной коллекции                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| default Spliterator<E> spliterator()                  | Возвращает итератор-разделитель для исходной коллекции                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| Object[] toArray()                                    | Возвращает массив, содержащий все элементы вызывающей коллекции. Элементы массива являются копиями элементов коллекции                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| default Stream<E> stream()                            | Возвращает поток данных, использующий коллекцию в качестве источника элементов                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| default Stream<E> parallelStream()                    | Возвращает поток данных, использующий коллекцию в качестве источника элементов. В этом потоке поддерживаются параллельные операции                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <T> T[] toArray(T array[])                            | Возвращает массив, содержащий элементы вызывающей коллекции. Элементы массива являются копиями элементов коллекции. Если размер переданного массива равен числу элементов в коллекции они возвращаются в заданном массиве. Если размер массива меньше чем элементов в коллекции, то создается новый массив нужного размера. Если размер переданного массива больше чем элементов, то во всех элементах, следующих за последним из коллекции, устанавливается null. Если тип коллекции и тип массива не совпадают, то генерируется исключение **ArrayStoreException** |
*Важно, что методы добавления и удаления возвращающие boolean, возвращают true если коллекция была изменена, false - если нет.

Рассмотрим методы интерфейса _Queue<E>_:

| Метод                | Описание                                                                                                  |
|:---------------------|:----------------------------------------------------------------------------------------------------------|
| E element()          | Возвращает элемент из головы очереди, если очередь пуста генерируется исключение _NoSuchElementException_ |
| boolean offer(E obj) | Пытается ввести заданный объект в очередь, если был введен - true, иначе false                            |
| E peek()             | Возвращает элемент из головы очереди, если очередь пуста возвращает null                                  |
| E poll()             | Возвращает элемент из головы очереди и удаляет его, если пуста - null                                     |
| E remove()           | Удаляет элемент из головы и возвращает его, если очередь пуста - _NoSuchElementException_                 |

В классе _PriorityQueue<E>_ определены следующие конструкторы:

- _PriorityQueue()_ : пустая очередь, первоначальная емкость 11
- _PriorityQueue(int capacity)_: очередь с заданной первоначальной емкостью
- _PriorityQueue(int capacity, Comparator<? super E> comp)_: очередь заданной емкости с указанным компаратором
- _PriorityQueue(Collection<? extends E> c)_
- _PriorityQueue(PriorityQueue<? extends E> c)_
- _PriorityQueue(SortedSet<? extends E> c)_

Если при построении очереди компаратор не указан, то применяется компаратор, выбираемый по умолчанию для типа данных, который сохраняется в очереди.
Компаратор по умолчанию размещает в очереди по нарастающей.

Также в PriorityQueue определен метод _comparator()_ ,  который возвращает ссылку на используемый компаратор. Если применяется естественный порядок, то возвращается null.


## Сложность

offer,poll,remove,add - **O(log(n))**

remove(Obj o), contains(Obj o) - **O(n)** 

peek,element,size - **O(1)**

## Exceptions
При создании очереди: _IllegalArgumentException_ если capacity отрицательное, или _NPE_ если коллекция null.

При генерации массива из очереди: _ArrayStoreException_ если тип переданного массива и коллекции не совпадают(или не являются супертипом), _NPE_ если переданный массив null

При add и offer _ClassCastException_ если тип аргумента несовместим с основной коллекцией, _NPE_ если переденный элемент null 